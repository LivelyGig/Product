# The Client

As is typical for SPAs the client consists of a single HTML file and a number of supporting resources (JS and CSS). One of these resources is the actual JavaScript
code generated by Scala.js from the Scala sources. There are two variants of the `index.html` one for fast development and the other (`index-full.html`) for
a production optimized version. Both are stored under `shared` project so that you can access them not only through the server, but also when doing local
development with the JS client only (more about this later). All the relevant resources are under the `web` directory to prevent conflicts with other (server)
resources.

In the `index.html` you'll find the usual HTML things like links to CSS and JS files. As you can see, the `<body>` element is pretty empty, because all the
HTML will be generated by the application itself.

```html
<body onload="SPAMain().main()">
<script src="js/scalajs-spa-jsdeps.js"></script>
<script src="js/scalajs-spa-fastopt.js"></script>
</body>
</html>
```

Instead of using external JavaScript references to [React](http://facebook.github.io/react/), [jQuery](http://jquery.com/), [Bootstrap](http://getbootstrap.com/) and
to a [chart component](http://www.chartjs.org/), the build system combines all these into a single JavaScript file (scalajs-spa-jsdeps.js). See [here](using-resources-from-webjars.md#webjar-javascript)
for details. The last JavaScript reference is the compiled application code.

Once the browser has loaded all the resources, it will call the `SPAMain().main()` method defined in the
[`SPAMain.scala`](https://github.com/ochrons/scalajs-spa-tutorial/tree/master/js/src/main/scala/spatutorial/client/SPAMain.scala) singleton class. This is the 
entry point of the application. The class itself is very simple,

```scala
@JSExport("SPAMain")
object SPAMain extends JSApp {
  @JSExport
  def main(): Unit = {
    // tell React to render the router in the document body
    React.render(MainRouter.routerComponent(), dom.document.body)
  }
}
```

The externally accessible classes and functions are annotated with `@JSExport` so the Scala.js compiler knows not to optimize them away and make them available
with those exact names in the global scope.

What `main()` does is simply to create a *router* and instruct React to render it inside the document `<body>` tag.

Now at this point you've seen couple of references to React and might wonder what's it about. [React](http://facebook.github.io/react/) is a JavaScript
library for building user interfaces, developed by Facebook. You might ask "why use a JavaScript library with Scala.js if Scala is so great" and yes,
it might make sense to do a similar library in Scala.js but since it's already there, why not use it. And to sweeten the deal there is a very nice
wrapper for React called [scalajs-react](https://github.com/japgolly/scalajs-react) by [David Barri (@japgolly)](https://github.com/japgolly).

There are also other Scals.js libraries available for building SPAs but I wanted to go with React, so that's what we'll use in this tutorial :)

